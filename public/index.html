<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>Причалы</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
  <script>
    setTimeout(() => {
      AFRAME.registerComponent("hotspots", {
        init: function () {
          this.el.addEventListener("reloadspots", function (evt) {
            //get the entire current spot group and scale it to 0
            let currspotgroup = document.getElementById(evt.detail.currspots);
            currspotgroup.setAttribute("scale", "0 0 0");

            //get the entire new spot group and scale it to 1
            let newspotgroup = document.getElementById(evt.detail.newspots);
            newspotgroup.setAttribute("scale", "1 1 1");
          });
        }
      });

      AFRAME.registerComponent("spot", {
        schema: {
          linkto: { type: "string", default: "" },
          spotgroup: { type: "string", default: "" },
          phiStart: { type: "string", default: "" }
        },
        init: function () {
          this.el.addEventListener("click", () => {
            let cam = document.getElementById("cam");
            cam.emit("zoomin");

            let fp = document.getElementById("camfadeplane");
            fp.setAttribute("width", "2");
            fp.setAttribute("height", "2");
            fp.emit("camFadeIn");

            const reloadSpot = () => {
              //set the skybox source to the new image as per the spot
              let sky = document.getElementById("skybox");
              sky.setAttribute("src", this.data.linkto);
              //надобавлял говна но оно не пашет
              sky.setAttribute("phi-start", this.data.phiStart);

              let spotcomp = document.getElementById("spots");
              let currspots = this.el.parentElement.getAttribute("id");
              //create event for spots component to change the spots data
              spotcomp.emit("reloadspots", {
                newspots: this.data.spotgroup,
                currspots: currspots
              });

              //this.setAttribute("camera","fov",80);
              cam.emit("zoomout");

              let fp = document.getElementById("camfadeplane");
              fp.emit("camFadeOut");

              setTimeout(() => {
                fp.setAttribute("width", "0");
                fp.setAttribute("height", "0");
              }, 1000);
            };
            setTimeout(reloadSpot, 2000);
          });

          // this.el.addEventListener("mouseleave", function () {
          //   var cur = document.getElementById("cursor-visual");
          //   cur.emit("stopFuse");
          // });

          //поменял mouseenter на click. какая то хуйня
          // this.el.addEventListener("click", function (evt) {
          //   var cur = document.getElementById("cursor-visual");
          //   cur.emit("startFuse");
          // });
        }
      });
    }, 1500);
  </script>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <div id="main" class="bord">

    <div class="video_content">
<!--      data-info-text="Квадрат увеличился в размере"-->
      <video class="bg-video js-number-block active" autoplay muted loop data-number="1" data-info-text-numder='2'>
      </video>

<!--      loop-->

      <video class="bg-video js-number-block" autoplay muted data-number="2" data-transit>
      </video>

      <video class="bg-video js-number-block" autoplay muted loop
             data-number="3"
             data-info-src="%PUBLIC_URL%/images/icons/snow.svg"
             data-info-text="Возможность использования"
             data-info-title="Круглый год">
      </video>

      <video class="bg-video js-number-block" autoplay muted loop
             data-number="4"
             data-info-src="%PUBLIC_URL%/images/icons/ejection.svg"
             data-info-text="Выброс вредных веществ"
             data-info-title="0%">
      </video>

      <video class="bg-video js-number-block" autoplay muted loop
             data-number="5"
             data-info-src="%PUBLIC_URL%/images/icons/capacity.svg"
             data-info-text="Вместимость"
             data-info-title="50 комфортных мест">
      </video>

      <video class="bg-video js-number-block" autoplay muted data-transit
             data-number="6"
             data-info-src="%PUBLIC_URL%/images/icons/moorings.svg"
             data-info-text="Колличество причалов"
             data-info-title="23 штуки">
      </video>

      <div class="mouse_prev">
        <div class="mouse_prev-wrapper">
          <div class="mouse_prev_arrow">
            <img src="%PUBLIC_URL%/images/icons/mouse_arrow.svg" alt="arrow">
          </div>
          <div class="mouse_prev_dot"></div>
        </div>
      </div>

      <div class="leave_button">
        <button>Причалить</button>
        <img class="leave_button-img" src="%PUBLIC_URL%/images/icons/leave_button_arrow.svg" alt="Причалить">
      </div>

      <div class="info_block js-number-block"></div>
    </div>

<!--    <div class="background_block js-number-block" data-number="4">-->

<!--    </div>-->

    <div class="site_content js-number-block">
<!--      data-number="4"-->
<!--      class="js-number-block"-->
      <section id="pier-description" class="bg-grey">
        <div class="container grid-12 col-gap-10 pt-100 pb-100 d-flex-col-tab gap10-tab">
          <div class="col-6">
            <div class="grid-12-rows row-gap-10 col-gap-10 d-flex-col-mob gap10-mob">
              <div class="col-6 row-6">
                <div class="card card-sm bg-grey-grad sepia-grey-grad">
                  <h3 class="text-uppercase">Комфортная зона<br>ожидания</h3>
                  <p class="card-body">Защита от&nbsp;солнца и&nbsp;ветра, а&nbsp;также комфортные диваны. Что может быть лучше?</p>
                  <img class="card-img card-bottom-img img-responsive" src="%PUBLIC_URL%/images/sofa.png" alt="sofa">
                </div>
              </div>
              <div class="col-6 row-6">
                <div class="card card-sm bg-grey-grad sepia-grey-grad">
                  <h3 class="text-uppercase">Кофе-<br>машина</h3>
                  <p>Скрасить ожидание посадки вам поможет ароматная чашечка кофе</p>
                  <img class="card-img card-bottom-img img-responsive" src="%PUBLIC_URL%/images/coffee.png" alt="coffee">
                </div>
              </div>
              <div class="col-6 row-6">
                <div class="card card-sm bg-grey-grad sepia-grey-grad">
                  <h3 class="text-uppercase">Оплата картой<br>«Тройка»</h3>
                  <p>Билет на&nbsp;транспорт всегда с&nbsp;вами. Но&nbsp;кассы на&nbsp;месте тоже работают</p>
                  <img class="card-img card-bottom-img img-responsive" src="%PUBLIC_URL%/images/troyka.png" alt="troyka">
                </div>
              </div>
              <div class="col-6 row-6">
                <div class="card card-sm bg-grey-grad sepia-grey-grad">
                  <h3 class="text-uppercase">Комната матери<br>и&nbsp;ребенка</h3>
                  <p>Для мамочек с самыми юными пассажиров здесь предусмотрена специальная комната</p>
                  <img class="card-img card-bottom-img img-responsive" src="%PUBLIC_URL%/images/bathroom.png" alt="bathroom">
                </div>
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="card card-large bg-pier card-aframe">
              <div class="card-content bg-grey-grad05">
                <h3 class="text-uppercase">Посетите виртуальную экскурсию по причалу</h3>
                <p class="mb-50-tab">Рассмотрите все удобства собственными глазами на примере причала на станции Киевская</p>
                <a href="#" class="vue_button btn btn-link sepia-black">
                  <img class="rotation-icon" src="%PUBLIC_URL%/images/icons/360.svg" alt="360">
                  Осмотреть
                </a>
              </div>
<!--              <div class="aframe_wrapper">-->
<!--                <a-scene>-->
<!--                  <a-assets>-->
<!--                    <script id="flatShader" type="x-shader/x-fragment">-->
<!--          varying vec2 vUv;-->
<!--          void main() {-->
<!--            gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);-->
<!--          }-->
<!--        </script>-->

<!--                    <img-->
<!--                            id="room1"-->
<!--                            src="https://coddmac.store/THREE/360/amarok/Interior.jpg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="high"-->
<!--                    />-->
<!--                    <img-->
<!--                            id="room2"-->
<!--                            src="https://coddmac.store/THREE/360/largus/Interior.jpg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->
<!--                    <img-->
<!--                            id="room3"-->
<!--                            src="https://coddmac.store/BKL/360/Varshavskaya/3.jpg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->
<!--                    <img-->
<!--                            id="room4"-->
<!--                            src="https://coddmac.store/BKL/360/Varshavskaya/4.jpg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->
<!--                    <img-->
<!--                            id="room5"-->
<!--                            src="https://coddmac.store/BKL/360/Varshavskaya/5.jpg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->
<!--                    <img-->
<!--                            id="hotspot"-->
<!--                            src="https://coddmac.store/BKL/360/source/Hotspot_blue_big.svg"-->
<!--                            crossorigin="anonymous"-->
<!--                    />-->

<!--                    <img-->
<!--                            id="crossIcon"-->
<!--                            src="https://coddmac.store/THREE/360/cross-icon.svg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->

<!--                    <img-->
<!--                            id="text-01"-->
<!--                            src="https://coddmac.store/THREE/360/text/text-01.svg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->

<!--                    <img-->
<!--                            id="text-02"-->
<!--                            src="https://coddmac.store/THREE/360/text/text-02.svg"-->
<!--                            crossorigin="anonymous"-->
<!--                            importance="low"-->
<!--                    />-->

<!--                    <a-mixin-->
<!--                            id="info-sphere"-->
<!--                            geometry="primitive: sphere; radius: 0.4;"-->
<!--                            material="color: #ff0000;"-->
<!--                    ></a-mixin>-->

<!--                    <template id="infoPanel1">-->
<!--                      <a-plane-->
<!--                              color="black"-->
<!--                              material="shader: flat"-->
<!--                              height="2"-->
<!--                              width="4"-->
<!--                              position="0 0 0"-->
<!--                              rounded="2.8"-->
<!--                      >-->
<!--                        <a-image-->
<!--                                position="0 0 0.1"-->
<!--                                src="#text-02"-->
<!--                                width="4"-->
<!--                                height="1"-->
<!--                                height="0.3"-->
<!--                        ></a-image>-->
<!--                        <a-image-->
<!--                                position="1.7 0.7 0.1"-->
<!--                                src="#crossIcon"-->
<!--                                width="0.33"-->
<!--                                height="0.33"-->
<!--                        ></a-image>-->
<!--                      </a-plane>-->
<!--                    </template>-->

<!--                    <template id="infoPanel2">-->
<!--                      <a-plane-->
<!--                              color="black"-->
<!--                              material="shader: flat"-->
<!--                              height="2"-->
<!--                              width="4"-->
<!--                              position="0 0 0"-->
<!--                              rounded="2.8"-->
<!--                      >-->
<!--                        <a-image-->
<!--                                position="0 0 0.1"-->
<!--                                src="#text-01"-->
<!--                                width="4"-->
<!--                                height="1"-->
<!--                                height="0.3"-->
<!--                        ></a-image>-->
<!--                        <a-image-->
<!--                                position="1.7 0.7 0.1"-->
<!--                                src="#crossIcon"-->
<!--                                width="0.33"-->
<!--                                height="0.33"-->
<!--                        ></a-image>-->
<!--                      </a-plane>-->
<!--                    </template>-->
<!--                  </a-assets>-->

<!--                  &lt;!&ndash; room teleport hotspots &ndash;&gt;-->

<!--                  <a-entity id="spots" hotspots="">-->
<!--                    <a-entity id="group-room1">-->
<!--                      <a-image-->
<!--                              src="#hotspot"-->
<!--                              spot="linkto:#room2;spotgroup:group-room2;phiStart:0"-->
<!--                              position="0 -2 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->

<!--                      <a-entity position="0 1 6" look-at rotation="180 0 180">-->
<!--                        <a-entity mixin="info-sphere" id="sphere1"> </a-entity>-->
<!--                        <a-entity id="infoPanelContainer1"></a-entity>-->
<!--                      </a-entity>-->

<!--                      <a-entity position="-4.5 -1.75 -8" look-at>-->
<!--                        <a-entity mixin="info-sphere" id="sphere2"> </a-entity>-->
<!--                        <a-entity id="infoPanelContainer2"></a-entity>-->
<!--                      </a-entity>-->
<!--                    </a-entity>-->

<!--                    <a-entity id="group-room2" scale="0 0 0">-->
<!--                      <a-image-->
<!--                              spot="linkto:#room1;spotgroup:group-room1;phiStart:175"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                    </a-entity>-->

<!--                    <a-entity id="group-room3" scale="0 0 0">-->
<!--                      <a-image-->
<!--                              spot="linkto:#room2;spotgroup:group-room2;phiStart:146"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                      <a-image-->
<!--                              spot="linkto:#room4;spotgroup:group-room4;phiStart:90"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 -8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                    </a-entity>-->

<!--                    <a-entity id="group-room4" scale="0 0 0">-->
<!--                      <a-image-->
<!--                              spot="linkto:#room3;spotgroup:group-room3;phiStart:120"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                      <a-image-->
<!--                              spot="linkto:#room5;spotgroup:group-room5;phiStart:90"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                    </a-entity>-->

<!--                    <a-entity id="group-room5" scale="0 0 0">-->
<!--                      <a-image-->
<!--                              spot="linkto:#room4;spotgroup:group-room4;phiStart:90"-->
<!--                              src="#hotspot"-->
<!--                              position="0 1 8"-->
<!--                              look-at-->
<!--                      ></a-image>-->
<!--                    </a-entity>-->
<!--                  </a-entity>-->

<!--                  <a-entity-->
<!--                          id="cam"-->
<!--                          camera="fov:80"-->
<!--                          position="0 1.6 0"-->
<!--                          look-controls-->
<!--                          cursor="rayOrigin: mouse"-->
<!--                          animation__zoomin="property:camera.fov;dur:2000;to:50;startEvents:zoomin;"-->
<!--                          animation__zoomout="property:camera.fov;dur:1000;to:80;startEvents:zoomout;"-->
<!--                  >-->
<!--                    <a-plane-->
<!--                            id="camfadeplane"-->
<!--                            rotation="10 0.5 0"-->
<!--                            position="0 0 -0.5"-->
<!--                            material="color:#000000;transparent:true;opacity:0"-->
<!--                            width="0"-->
<!--                            height="0"-->
<!--                            animation__fadein="property:material.opacity;to:1;dur:2000;startEvents:camFadeIn"-->
<!--                            animation__fadeout="property:material.opacity;to:0;dur:1000;startEvents:camFadeOut"-->
<!--                    ></a-plane>-->
<!--                  </a-entity>-->

<!--                  <a-sky id="skybox" src="#room1" rotation="0 0 0" phi-start="175"></a-sky>-->
<!--                </a-scene>-->
<!--              </div>-->
            </div>
          </div>
        </div>
      </section>

      <section class="sinichka_fixed" id="sinichka-section">
        <video class="section-video" autoplay muted>
          <source
            src="/doors.mp4"
            type="video/mp4" />
<!--          <source src="">-->
        </video>
<!--        <div class="proximity">-->
<!--          <div class="door_1"></div>-->
<!--&lt;!&ndash;          <button class="model_wue">&ndash;&gt;-->
<!--&lt;!&ndash;            <img class="model_img" src="%PUBLIC_URL%/images/icons/model_wue.svg" alt="Экскурсия">&ndash;&gt;-->
<!--&lt;!&ndash;          </button>&ndash;&gt;-->
<!--          <img class="model_img" src="%PUBLIC_URL%/images/icons/model_wue.svg" alt="Экскурсия">-->
<!--          <div class="door_2"></div>-->
<!--        </div>-->



        <div class="vectary">
          <iframe src="https://app.vectary.com/p/6YGTFqmzg1ssFGNU2tCHY1" width="100%" height="100%"></iframe>
          <div class="tech_speck">
            <div class="tech_speck-1 tech_speck-info">
              <p class="tech_speck-title">Класс судна:</p>
              <p class="tech_speck-text">ледовый</p>
            </div>
            <div class="tech_speck-2 tech_speck-info">
              <p class="tech_speck-title">Скорость движения</p>
              <p class="tech_speck-text">15 км/ч</p>
            </div>
            <div class="tech_speck-3 tech_speck-info">
              <p class="tech_speck-title">Время автономной работы:</p>
              <p class="tech_speck-text">5 часов</p>
            </div>
            <div class="tech_speck-4 tech_speck-info">
              <p class="tech_speck-title">Вместимость:</p>
              <p class="tech_speck-text">50 человек</p>
            </div>
          </div>
          <button class="interior_button sepia-black">
            <img class="leave_button_img" src="%PUBLIC_URL%/images/icons/360.svg" alt="осмотреть салон">
            осмотреть
          </button>
        </div>
      </section>

      <!-- Секция с двумя маршрутами -->
      <!-- <section id="pier-routes" class="bg-grey pos-rel">
        <div class="container pb-100">
          <h1 class="h1 text-uppercase mb-40">Маршруты</h1>
          <div class="card-flex-wrapper">
            <div class="card bg-grey-grad">
              <p class="route-number mt-0 mb-10">№1</p>
              <h3 class="text-uppercase">Киевский — Сердце столицы</h3>
              <img class="card-img img-responsive cursor-pointer" data-route="kievsky" src="%PUBLIC_URL%/images/kievsky-route_active.svg alt="kievsky route"">
              <p>Первый регулярный речной маршрут Киевский — Сердце столицы улучшит транспортное обслуживание тех москвичей, которых река разделяет со станциями метро и МЦК</p>
            </div>
            <div class="card bg-grey-grad card-disabled">
              <p class="route-number mt-0 mb-10">№2</p>
              <h3 class="text-uppercase cursor-pointer">Автозаводский Мост — Печатники</h3>
              <img class="card-img img-responsive d-block d-none-mob cursor-pointer img-disabled" data-route="avtozavodsky" src="%PUBLIC_URL%/images/avtozavodsky-route_disabled.svg">
              <img class="card-img img-responsive d-none d-block-mob cursor-pointer img-disabled" data-route="avtozavodsky" src="%PUBLIC_URL%/images/avtozavodsky-route_vert_disabled.svg">
              <p>Раньше через Южный речной вокзал и прилегающие районы проходило несколько маршрутов речного транспорта, которые были популярны у москвичей. Открытие нового маршрута состоится до конца года.</p>
            </div>
          </div>
        </div>

        <div id="fullimage" class="fullimage fullimage-disabled">
          <div class="fullimage-wrapper"></div>
        </div>
      </section> -->

      <!-- Секция с одним маршрутом -->
      <section id="pier-routes" class="bg-grey pos-rel pt-100">
        <div class="container pb-100">
          <h1 class="h1 text-uppercase mb-40">Маршруты</h1>

          <!-- desktop, horizTab -->
          <div class="card-flex-wrapper d-none-tab">
            <div class="card bg-grey-grad">
              <div class="grid-12 width-1 align-center">
                <div class="col-6 d-flex-col max-width-400">
                  <p class="route-number mt-0 mb-10">№1</p>
                  <h2 class="text-uppercase fs-125-tab">Киевский — Сердце столицы</h2>
                  <p class="flex-11auto mt-30">Первый регулярный речной маршрут Киевский — Сердце столицы улучшит транспортное обслуживание тех москвичей, которых река разделяет со станциями метро и МЦК</p>
                  <a data-route="kievsky" href="#" class="btn btn-link align-self-fs">
                    Посмотреть
                    <img src="%PUBLIC_URL%/images/icons/arrow-right.svg" alt="arrow">
                  </a>
                </div>
                <img class="col-6 card-img img-responsive cursor-pointer" data-route="kievsky" src="%PUBLIC_URL%/images/kievsky-route_active.svg" alt="kievsky route">
              </div>
            </div>
          </div>

          <!-- vertTab, mobile -->
          <div class="card-flex-wrapper d-none d-flex-tab">
            <div class="card bg-grey-grad">
              <p class="route-number mt-0 mb-10">№1</p>
              <h3 class="text-uppercase">Киевский — Сердце столицы</h3>
              <img class="card-img img-responsive cursor-pointer" data-route="kievsky" src="%PUBLIC_URL%/images/kievsky-route_active.svg" alt="kievsky route">
              <p>Первый регулярный речной маршрут Киевский — Сердце столицы улучшит транспортное обслуживание тех москвичей, которых река разделяет со станциями метро и МЦК</p>
            </div>
          </div>
        </div>
        <!-- Отображение маршрута по клику -->
        <div id="fullimage" class="fullimage fullimage-disabled">
          <div class="fullimage-wrapper"></div>
        </div>
      </section>

      <section id="pier-faq" class="bg-grey">
        <div class="container pb-100">
          <h1 class="h1 text-uppercase mb-40">Справочная информация</h1>
          <div class="card-flex-wrapper">
            <div class="card card-faq bg-grey-grad sepia-grey-grad">
              <h3 class="text-uppercase">Расписание</h3>
              <p class="fg-1">Электросуда работают ежедневно.<br>Расписание можно посмотреть на едином транспортном портале</p>
              <img class="card-img card-center-img img-responsive" src="%PUBLIC_URL%/images/calendar.png" alt="calendar">
              <a href="#" class="btn btn-link align-self-fs">
                Посмотреть
                <img src="%PUBLIC_URL%/images/icons/arrow-right.svg" alt="arrow">
              </a>
            </div>
            <div class="card card-faq bg-grey-grad sepia-grey-grad cursor-pointer">
              <h3 class="text-uppercase">Стоимость проезда</h3>
              <div class="d-flex-col card-body-active">
                <p class="fg-1">Посмотрите подробную информацию о стоимости проезда</p>
                <img class="card-img card-center-img img-responsive" src="%PUBLIC_URL%/images/bill.png" alt="calendar">
                <a href="#" class="btn btn-link align-self-fs">
                  Посмотреть
                  <img src="%PUBLIC_URL%/images/icons/arrow-right.svg" alt="arrow">
                </a>
              </div>
              <div class="d-flex-col card-body-disabled justify-center">
                <div class="grid-12 mt-40 mb-40 mt-10-descsemi mb-10-descsemi">
                  <p class="col-8 mt-0 mb-10-descsemi col-6-descsemi">Рабочие дни</p>
                  <p class="col-4 text-right mt-0 mb-10-descsemi col-6-descsemi">150 рублей</p>
                  <p class="col-8 mt-0 mb-10-descsemi col-6-descsemi">Выходные и праздничные дни</p>
                  <p class="col-4 text-right mt-0 mb-10-descsemi col-6-descsemi">300 рублей</p>
                  <p class="col-8 mt-0 mb-10-descsemi col-6-descsemi">Дети до 7 лет</p>
                  <p class="col-4 text-right mt-0 mb-10-descsemi col-6-descsemi">Бесплатно</p>
                  <p class="col-8 mt-0 mb-0 col-6-descsemi">Провоз велосипеда</p>
                  <p class="col-4 text-right mt-0 mb-0 col-6-descsemi">Бесплатно</p>
                </div>
                <hr class="width-1 mt-0 mb-0">
                <p class="mt-10-descsemi mb-10-descsemi">С сентября стоимость поездки составит 150&nbsp;рублей в день</p>
                <p class="mt-0 mb-0">Речные маршруты включены в зону действия билетов «Единый» без лимита поездок на&nbsp;90 и&nbsp;365 дней</p>
              </div>
            </div>
            <div class="card card-faq bg-grey-grad sepia-grey-grad cursor-pointer">
              <h3 class="text-uppercase">Как оплачивать</h3>
              <div class="d-flex-col card-body-active">
                <p class="fg-1">Пассажиры могут оплачивать проезд привычным для них способом</p>
                <img class="card-img card-center-img img-responsive" src="%PUBLIC_URL%/images/card.png" alt="calendar">
                <a href="#" class="btn btn-link align-self-fs">
                  Посмотреть
                  <img src="%PUBLIC_URL%/images/icons/arrow-right.svg" alt="arrow">
                </a>
              </div>
              <div class="d-flex-col card-body-disabled justify-center">
                <p>Картой</p>
              </div>
            </div>
          </div>
        </div>
      </section>
      <footer class="bg-dark-grey">
        <div class="container pt-50 pb-50">
          <div class="grid-12 d-flex-tab d-flex-col-mob pt-30-mob px-30-mob">
            <div class="col-4 mb-40-mob">
              <div class="logos-flex-wrapper mb-30">
                <img src="%PUBLIC_URL%/images/icons/logo-river.svg" alt="river transport logo">
                <img src="%PUBLIC_URL%/images/icons/logo-IC.svg" alt="innovation center logo">
              </div>
              <a href="#" class="btn btn-link btn-link-footer align-self-fs sepia-grey">
                <img src="%PUBLIC_URL%/images/icons/boat.svg" alt="boat">
                О речном транспорте
              </a>
            </div>
            <div class="col-4 footer-links-wrapper">
              <p class="bold mt-0 fs-1125">Речной транспорт</p>
              <ul class="footer-list">
                <li class="footer-list-item"><a class="footer-link" href="#">Причал</a></li>
                <li class="footer-list-item"><a class="footer-link" href="#">Электросудно</a></li>
                <li class="footer-list-item"><a class="footer-link" href="#">Маршруты</a></li>
                <li class="footer-list-item"><a class="footer-link" href="#">Справка</a></li>
              </ul>
            </div>
            <div class="col-4 footer-contacts">
              <p class="bold mt-0 mb-30 fs-1125 fs-1-tab mb-20-mob">Контакт-центр<br>«Московский транспорт»</p>
              <a class="footer-link fs-15 fs-1125-tab" href="tel:+74955395454">+7 495 539-54-54</a>
              <a class="footer-link" href="tel:3210"><span class="fs-15 fs-1125-tab">3210</span> (с мобильного телефона)</a>
            </div>
          </div>
          <div class="footer-links-wrapper-tab mt-60 mt-50-mob">
            <a class="footer-link fs-0875-tab" href="#">Причал</a>
            <a class="footer-link fs-0875-tab" href="#">Электросудно</a>
            <a class="footer-link fs-0875-tab" href="#">Маршруты</a>
            <a class="footer-link fs-0875-tab" href="#">Справка</a>
          </div>
        </div>
      </footer>
    </div>
  </div>

<!--  <div class="aframe_wrapper">-->

<!--  </div>-->

  <a-scene id="scene" renderer="antialias: true;
                     sortObjects: true;
                     maxCanvasWidth: 3000;
                     maxCanvasHeight: 3000;
                     precision: low;
                     toneMapping:  ‘ACESFilmic’;"
  >
    <button id="aframe_rollup" class="dock_leave">Свернуть</button>
    <a-assets>
      <script id="flatShader" type="x-shader/x-fragment">
          varying vec2 vUv;
          void main() {
            gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
          }
        </script>

      <img
              id="room1"
              src="https://coddmac.store/THREE/360/amarok/Interior.jpg"
              crossorigin="anonymous"
              importance="high"
      />
      <img
              id="room2"
              src="https://coddmac.store/THREE/360/largus/Interior.jpg"
              crossorigin="anonymous"
              importance="low"
      />
      <img
              id="room3"
              src="https://coddmac.store/BKL/360/Varshavskaya/3.jpg"
              crossorigin="anonymous"
              importance="low"
      />
      <img
              id="room4"
              src="https://coddmac.store/BKL/360/Varshavskaya/4.jpg"
              crossorigin="anonymous"
              importance="low"
      />
      <img
              id="room5"
              src="https://coddmac.store/BKL/360/Varshavskaya/5.jpg"
              crossorigin="anonymous"
              importance="low"
      />
      <img
              id="hotspot"
              src="https://coddmac.store/BKL/360/source/Hotspot_blue_big.svg"
              crossorigin="anonymous"
      />

      <img
              id="crossIcon"
              src="https://coddmac.store/THREE/360/cross-icon.svg"
              crossorigin="anonymous"
              importance="low"
      />

      <img
              id="text-01"
              src="https://coddmac.store/THREE/360/text/text-01.svg"
              crossorigin="anonymous"
              importance="low"
      />

      <img
              id="text-02"
              src="https://coddmac.store/THREE/360/text/text-02.svg"
              crossorigin="anonymous"
              importance="low"
      />

      <a-mixin
              id="info-sphere"
              geometry="primitive: sphere; radius: 0.4;"
              material="color: #ff0000;"
      ></a-mixin>

      <template id="infoPanel1">
        <a-plane
                color="black"
                material="shader: flat"
                height="2"
                width="4"
                position="0 0 0"
                rounded="2.8"
        >
          <a-image
                  position="0 0 0.1"
                  src="#text-02"
                  width="4"
                  height="1"
                  height="0.3"
          ></a-image>
          <a-image
                  position="1.7 0.7 0.1"
                  src="#crossIcon"
                  width="0.33"
                  height="0.33"
          ></a-image>
        </a-plane>
      </template>

      <template id="infoPanel2">
        <a-plane
                color="black"
                material="shader: flat"
                height="2"
                width="4"
                position="0 0 0"
                rounded="2.8"
        >
          <a-image
                  position="0 0 0.1"
                  src="#text-01"
                  width="4"
                  height="1"
                  height="0.3"
          ></a-image>
          <a-image
                  position="1.7 0.7 0.1"
                  src="#crossIcon"
                  width="0.33"
                  height="0.33"
          ></a-image>
        </a-plane>
      </template>
    </a-assets>

    <!-- room teleport hotspots -->

    <a-entity id="spots" hotspots="">
      <a-entity id="group-room1">
        <a-image
                src="#hotspot"
                spot="linkto:#room2;spotgroup:group-room2;phiStart:0"
                position="0 -2 8"
                look-at
        ></a-image>

        <a-entity position="0 1 6" look-at rotation="180 0 180">
          <a-entity mixin="info-sphere" id="sphere1"> </a-entity>
          <a-entity id="infoPanelContainer1"></a-entity>
        </a-entity>

        <a-entity position="-4.5 -1.75 -8" look-at>
          <a-entity mixin="info-sphere" id="sphere2"> </a-entity>
          <a-entity id="infoPanelContainer2"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="group-room2" scale="0 0 0">
        <a-image
                spot="linkto:#room1;spotgroup:group-room1;phiStart:175"
                src="#hotspot"
                position="0 1 8"
                look-at
        ></a-image>
      </a-entity>

      <a-entity id="group-room3" scale="0 0 0">
        <a-image
                spot="linkto:#room2;spotgroup:group-room2;phiStart:146"
                src="#hotspot"
                position="0 1 8"
                look-at
        ></a-image>
        <a-image
                spot="linkto:#room4;spotgroup:group-room4;phiStart:90"
                src="#hotspot"
                position="0 1 -8"
                look-at
        ></a-image>
      </a-entity>

      <a-entity id="group-room4" scale="0 0 0">
        <a-image
                spot="linkto:#room3;spotgroup:group-room3;phiStart:120"
                src="#hotspot"
                position="0 1 8"
                look-at
        ></a-image>
        <a-image
                spot="linkto:#room5;spotgroup:group-room5;phiStart:90"
                src="#hotspot"
                position="0 1 8"
                look-at
        ></a-image>
      </a-entity>

      <a-entity id="group-room5" scale="0 0 0">
        <a-image
                spot="linkto:#room4;spotgroup:group-room4;phiStart:90"
                src="#hotspot"
                position="0 1 8"
                look-at
        ></a-image>
      </a-entity>
    </a-entity>

    <a-entity
            id="cam"
            camera="fov:80"
            position="0 1.6 0"
            look-controls
            cursor="rayOrigin: mouse"
            animation__zoomin="property:camera.fov;dur:2000;to:50;startEvents:zoomin;"
            animation__zoomout="property:camera.fov;dur:1000;to:80;startEvents:zoomout;"
    >
      <a-plane
              id="camfadeplane"
              rotation="10 0.5 0"
              position="0 0 -0.5"
              material="color:#000000;transparent:true;opacity:0"
              width="0"
              height="0"
              animation__fadein="property:material.opacity;to:1;dur:2000;startEvents:camFadeIn"
              animation__fadeout="property:material.opacity;to:0;dur:1000;startEvents:camFadeOut"
      ></a-plane>
    </a-entity>

    <a-sky id="skybox" src="#room1" rotation="0 0 0" phi-start="175"></a-sky>
  </a-scene>



  <script>

    // Изменение размеров canvas для a-frame
    window.addEventListener("DOMContentLoaded", () => {
      const myCanvas = document.querySelector('.a-canvas');

      // Получаем текущие размеры области видимости браузера
      function resizeCanvasToDisplaySize(canvas) {
        const devicePixelRatio = window.devicePixelRatio || 1;

        // Устанавливаем размеры канваса в размеры области видимости умноженные на devicePixelRatio
        const width = canvas.clientWidth * devicePixelRatio;
        const height = canvas.clientHeight * devicePixelRatio;

        // Устанавливаем физические размеры канваса
        canvas.width = width;
        canvas.height = height;
      }

      // Обновляем размеры канваса
      function updateCanvas() {
        resizeCanvasToDisplaySize(myCanvas);
        requestAnimationFrame(updateCanvas);
      }
      updateCanvas();

      // Клик на кнопку ОСМОТРЕТЬ 360 и выход из сцена кнопкой СВЕРНУТЬ
      const tour_360 = document.querySelector('#pier-description a.vue_button');
      const rollup_360 = document.querySelector('#aframe_rollup');
      const mainContent = document.querySelector('#main');
      const htmlAframe = document.querySelector('html.a-fullscreen');

      tour_360.addEventListener('click', () => {
        // После клика на кнопку находим тег сцены канвас a-scene через id
        let aframeContent = document.querySelector('#scene');
        setTimeout(() => {
          // Обязательно через отложеннное время вызываем на сцене метод resize для обновления ее размеров под текущую область втдимости.
          // Данного метода НЕТ в оффициальной документации a-frame. (но работает по совету из GitHub)
          aframeContent.resize();
          console.log("aframeContent resize!");
        }, 100);
        aframeContent.style.opacity = '1';
        aframeContent.style.pointerEvents = 'auto';
        mainContent.style.display = 'none';
        rollup_360.style.display = 'block';
        htmlAframe.classList.add('position');
      });

      rollup_360.addEventListener('click', () => {
        let aframeContent = document.querySelector('#scene');
        aframeContent.style.opacity = '0';
        aframeContent.style.pointerEvents = 'none';
        mainContent.style.display = 'block';
        htmlAframe.classList.remove('position');
        rollup_360.style.display = 'none';
      });
    });

    setTimeout(() => {
      let currentInfoPanel = null;

      // Open the panel
      document
              .querySelectorAll('[mixin="info-sphere"]')
              .forEach(function (sphere) {
                sphere.addEventListener("click", function () {
                  console.log("Info sphere clicked: " + this.id);

                  const currentSphereIdNumber = this.id.replace("sphere", "");

                  // Get the template for this info sphere
                  const template = document.querySelector(
                          "#infoPanel" + currentSphereIdNumber
                  );

                  // Get the info panel entity
                  const infoPanel = document.querySelector(
                          "#infoPanelContainer" + currentSphereIdNumber
                  );

                  console.log("Current info panel: ", infoPanel);

                  // Instantiate the new info panel from the template
                  infoPanel.appendChild(document.importNode(template.content, true));

                  const allInfoPanelContainerElements = document.querySelectorAll(
                          "[id^=infoPanelContainer]"
                  );

                  document
                          .querySelectorAll('[src="#crossIcon"]')
                          .forEach(function (cross) {
                            cross.addEventListener("click", function () {
                              allInfoPanelContainerElements.forEach((container) => {
                                if (container.id === infoPanel.id) {
                                  container.innerHTML = "";
                                  document
                                          .querySelector("#sphere" + currentInfoPanel)
                                          .setAttribute("visible", true);
                                }
                              });
                            });
                          });

                  allInfoPanelContainerElements.forEach((container) => {
                    if (container.id !== infoPanel.id) {
                      container.innerHTML = "";
                    }
                    this.setAttribute("visible", true);
                  });

                  // console.log("Current info panel insides: ", infoPanel.innerHTML);

                  const idNumber = currentSphereIdNumber;
                  if (currentInfoPanel) {
                    document
                            .querySelector("#sphere" + currentInfoPanel)
                            .setAttribute("visible", true);
                  }
                  // document.querySelector("#info" + idNumber).style.display = "block";
                  this.setAttribute("visible", false);
                  currentInfoPanel = idNumber;
                  console.log("Current info panel id: " + currentInfoPanel);
                });
              });
    }, 1500);
  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="encoding" content="utf-8" charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Model Viewer Example">
    <meta name="robots" content="noindex,nofollow,noarchive">
    <meta name="yandex" content="noindex,nofollow,noarchive">
    <meta name="googlebot" content="noindex,nofollow,noarchive">

    <link rel="apple-touch-icon" sizes="180x180" href="https://garagetest.ru/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://garagetest.ru/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://garagetest.ru/favicons/favicon-16x16.png">
    <link rel="manifest" href="https://garagetest.ru/favicons/site.webmanifest">
    <link rel="mask-icon" href="https://garagetest.ru/favicons/safari-pinned-tab.svg" color="#5bbad5">
     <style>
        body {
          background-color: #9794A6;
          /* position: relative; */
          margin: 0;
        }

        .google_viewer {
            display: none;
        }

        .backToPageBack {
          position: absolute;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          background-color: black;
          text-align: center;
          min-width: 60px;
          padding: 10px;
          border-radius: 5px;
          cursor: pointer;
        }

        .backToPageBack a {
          font-family: 'MoscowSans', sans-serif;
          font-weight: 300;
          font-size: 16px;
          display: block;
          width: max-content;
          color: #ffffff;
          text-decoration: none;
        }

        .vectary_plug {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 100%;
          max-width: max-content;
          pointer-events: none;
        }
     </style>
    <title>AR</title>
  </head>
  <body>

    <div id="div_mv"></div>
    <div class="backToPageBack">
      <!-- <a href="index.html#sinichka-section">На страницу с моделью</a> -->
      <a>На страницу с моделью</a>
    </div>
    <img class="vectary_plug" src="./images/sinichka_prev.png" alt="Электросудно Синичка">

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
     <script type="module">
      document.addEventListener("DOMContentLoaded", () => {
          const m_viewer = document.createElement('model-viewer');
          m_viewer.setAttribute('class', 'google_viewer');
          m_viewer.setAttribute('ar', 'true');
          m_viewer.setAttribute('ar-modes', 'scene-viewer webxr quick-look');
          m_viewer.setAttribute('camera-controls', '');

          // https://garagetest.ru/models/sinichka/Sinichka2.0.gltf
          // https://garagetest.ru/models/testModel/untitled.gltf
          // https://garagetest.ru/models/testModel/S2.gltf

          m_viewer.setAttribute('src', `https://garagetest.ru/models/testModel/S2.gltf`);

          document.getElementById('div_mv').appendChild(m_viewer);
          setTimeout(() => {
              m_viewer.activateAR();
          }, 100);

          const backToPageBack = document.querySelector('.backToPageBack');
          backToPageBack.addEventListener('click', () => {
            // window.history.back();
            // window.open('https://garagetest.ru/?ar=true#sinichka-section');
            // window.location.href = 'https://garagetest.ru/?ar=true#sinichka-section';
            window.location.href = 'http://localhost:3000/?ar=true#sinichka-section';
          });
      });
     </script>
  </body>
</html>
